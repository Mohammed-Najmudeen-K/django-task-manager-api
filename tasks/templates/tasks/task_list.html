{% extends "tasks/base.html" %}

{% block content %}
<a href="{% url 'task-create' %}">Add Task</a><br><br>

{% for task in page_obj %}
<div class="task">
    <strong>{{ task.title }}</strong><br>
    {{ task.description }}<br>

    Status:
    {% if task.completed %}
        <span class="completed">Completed</span>
    {% else %}
        <span class="pending">Pending</span>
    {% endif %}

    <br>
    <a href="{% url 'task-toggle' task.id %}">
        {% if task.completed %}Mark Pending{% else %}Mark Completed{% endif %}
    </a> |
    <a href="{% url 'task-delete' task.id %}" class="delete">Delete</a>
</div>
{% empty %}
<p>No tasks found.</p>
{% endfor %}

<!-- Pagination -->
<div class="pagination">
    {% if page_obj.has_previous %}
        <a href="?page={{ page_obj.previous_page_number }}">Previous</a>
    {% endif %}

    <span>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>

    {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">Next</a>
    {% endif %}
</div>
{% endblock %}
